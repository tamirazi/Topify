<div class="page">
  <div class="header">
    <div class="logo"></div>
    <app-menu *ngIf="isMobile"></app-menu>
    <div *ngIf="!isMobile" class="right-panel">
      <h3 (click)="toggleAbout($event)" class="about">About</h3>
      <h3>{{ username }}</h3>
      <div (click)="toggleAbout($event)" class="logout"></div>
    </div>
  </div>
  <div *ngIf="!isMobile" class="desktop-container">
    <div class="left" [ngClass]="{ fill: showAbout }">
      <app-list
        *ngIf="!showAbout"
        class="desktop-list"
        [time]="time"
        [type]="type"
        [list]="list"
        (savePlaylistEmitter)="createPlaylist($event)"
      ></app-list>
      <h1 *ngIf="showAbout">About</h1>
    </div>

    <div class="right" [ngClass]="{ about: showAbout }">
      <div class="context" *ngIf="!showAbout">
        <app-type-nav></app-type-nav>
        <div class="res-container">
          <app-time-nav></app-time-nav>
          <app-index-btns
            [index]="index"
            (indexChanged)="onIndexChanged($event)"
          ></app-index-btns>
          <div *ngIf="image" class="img" [lazyLoad]="image"></div>
          <div class="info">
            <div class="h3">{{ result }}</div>
            <div class="h3-description">{{ description }}</div>
          </div>
        </div>
        <app-index-bg [index]="index"></app-index-bg>
      </div>
      <app-about
        *ngIf="showAbout"
        (onCloseEmmiter)="closeAbout()"
        [option]="aboutOption"
      ></app-about>
    </div>
  </div>
  <div *ngIf="isMobile" class="mobile-container">
    <div class="left">
      <app-index-btns
        [index]="index"
        (indexChanged)="onIndexChanged($event)"
      ></app-index-btns>
      <app-index-bg [index]="index"></app-index-bg>
      <div
        *ngIf="image"
        class="img"
        [ngStyle]="{ 'background-image': 'url(' + image + ')' }"
      ></div>
    </div>
    <div class="right">
      <app-slick-nav [type]="type" [time]="time"></app-slick-nav>
      <div class="info">
        <div class="h3">{{ result }}</div>
        <div class="h3-description">{{ description }}</div>
      </div>
    </div>
    <!-- <app-time-nav></app-time-nav> -->
  </div>
  <div *ngIf="isMobile" class="time-nav-container">
    <app-time-nav></app-time-nav>
  </div>
  <app-list
    class="mobile-list"
    *ngIf="isMobile"
    [time]="time"
    [type]="type"
    [list]="list"
    (savePlaylistEmitter)="createPlaylist($event)"
  ></app-list>
  <div class="bg" #bg></div>
</div>
